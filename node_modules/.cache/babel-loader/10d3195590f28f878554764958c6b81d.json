{"remainingRequest":"/Users/petrkopev/Work/test-pitch-vue/node_modules/babel-loader/lib/index.js!/Users/petrkopev/Work/test-pitch-vue/node_modules/eslint-loader/index.js??ref--14-0!/Users/petrkopev/Work/test-pitch-vue/src/store/modules/products.js","dependencies":[{"path":"/Users/petrkopev/Work/test-pitch-vue/src/store/modules/products.js","mtime":1665858246507},{"path":"/Users/petrkopev/Work/test-pitch-vue/babel.config.js","mtime":1664605590676},{"path":"/Users/petrkopev/Work/test-pitch-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/petrkopev/Work/test-pitch-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/petrkopev/Work/test-pitch-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGFwaSBmcm9tICdAL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiAoKSA9PiAoewogICAgcHJvZHVjdHM6IFtdLAogICAgdG90YWw6IDAKICB9KSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9QUk9EVUNUUyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5wcm9kdWN0cyA9IHBheWxvYWQ7CiAgICB9LAoKICAgIFNFVF9QUk9EVUNUU19DT1VOVChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS50b3RhbCA9IHBheWxvYWQ7CiAgICB9CgogIH0sCiAgYWN0aW9uczogewogICAgYXN5bmMgZmV0Y2hQcm9kdWN0cyh7CiAgICAgIGNvbW1pdAogICAgfSwgewogICAgICBsaW1pdCA9IDUwLAogICAgICBvZmZzZXQKICAgIH0gPSB7fSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gYXdhaXQgYXBpLnByb2R1Y3RzLmdldFByb2R1Y3RzKHsKICAgICAgICAgIGxpbWl0LAogICAgICAgICAgb2Zmc2V0CiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBkYXRhLmRhdGEucHJvZHVjdHM7CiAgICAgICAgY29tbWl0KCdTRVRfUFJPRFVDVFMnLCBwcm9kdWN0cyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBmZXRjaFByb2R1Y3RzQ291bnQoewogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IGF3YWl0IGFwaS5wcm9kdWN0cy5nZXRQcm9kdWN0c0NvdW50KCk7CiAgICAgICAgbGV0IHRvdGFsID0gZGF0YS5kYXRhLnByb2R1Y3RzLmNvdW50OwogICAgICAgIGNvbW1pdCgnU0VUX1BST0RVQ1RTX0NPVU5UJywgdG90YWwpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"names":["api","namespaced","state","products","total","mutations","SET_PRODUCTS","payload","SET_PRODUCTS_COUNT","actions","fetchProducts","commit","limit","offset","data","getProducts","Promise","resolve","e","console","error","reject","fetchProductsCount","getProductsCount","count"],"sources":["/Users/petrkopev/Work/test-pitch-vue/src/store/modules/products.js"],"sourcesContent":["import api from '@/api';\n\nexport default {\n    namespaced: true,\n\n    state: () => ({\n        products: [],\n        total: 0\n    }),\n\n    mutations: {\n        SET_PRODUCTS(state, payload) {\n            state.products = payload;\n        },\n        SET_PRODUCTS_COUNT(state, payload) {\n            state.total = payload\n        }\n    },\n\n    actions: {\n        async fetchProducts({ commit }, { limit = 50, offset } = {}) {\n            try {\n                const { data } = await api.products.getProducts({ limit, offset });\n\n                const products = data.data.products;\n\n                commit('SET_PRODUCTS', products);\n\n                return Promise.resolve();\n            } catch (e) {\n                console.error(e);\n\n                return Promise.reject();\n            }\n        },\n        async fetchProductsCount({ commit } ) {\n            try {\n                const { data } = await api.products.getProductsCount();\n                let total = data.data.products.count\n\n                commit('SET_PRODUCTS_COUNT', total);\n\n                return Promise.resolve();\n            } catch (e) {\n                console.error(e);\n\n                return Promise.reject();\n            }\n        },\n    },\n};\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AAEA,eAAe;EACXC,UAAU,EAAE,IADD;EAGXC,KAAK,EAAE,OAAO;IACVC,QAAQ,EAAE,EADA;IAEVC,KAAK,EAAE;EAFG,CAAP,CAHI;EAQXC,SAAS,EAAE;IACPC,YAAY,CAACJ,KAAD,EAAQK,OAAR,EAAiB;MACzBL,KAAK,CAACC,QAAN,GAAiBI,OAAjB;IACH,CAHM;;IAIPC,kBAAkB,CAACN,KAAD,EAAQK,OAAR,EAAiB;MAC/BL,KAAK,CAACE,KAAN,GAAcG,OAAd;IACH;;EANM,CARA;EAiBXE,OAAO,EAAE;IACL,MAAMC,aAAN,CAAoB;MAAEC;IAAF,CAApB,EAAgC;MAAEC,KAAK,GAAG,EAAV;MAAcC;IAAd,IAAyB,EAAzD,EAA6D;MACzD,IAAI;QACA,MAAM;UAAEC;QAAF,IAAW,MAAMd,GAAG,CAACG,QAAJ,CAAaY,WAAb,CAAyB;UAAEH,KAAF;UAASC;QAAT,CAAzB,CAAvB;QAEA,MAAMV,QAAQ,GAAGW,IAAI,CAACA,IAAL,CAAUX,QAA3B;QAEAQ,MAAM,CAAC,cAAD,EAAiBR,QAAjB,CAAN;QAEA,OAAOa,OAAO,CAACC,OAAR,EAAP;MACH,CARD,CAQE,OAAOC,CAAP,EAAU;QACRC,OAAO,CAACC,KAAR,CAAcF,CAAd;QAEA,OAAOF,OAAO,CAACK,MAAR,EAAP;MACH;IACJ,CAfI;;IAgBL,MAAMC,kBAAN,CAAyB;MAAEX;IAAF,CAAzB,EAAsC;MAClC,IAAI;QACA,MAAM;UAAEG;QAAF,IAAW,MAAMd,GAAG,CAACG,QAAJ,CAAaoB,gBAAb,EAAvB;QACA,IAAInB,KAAK,GAAGU,IAAI,CAACA,IAAL,CAAUX,QAAV,CAAmBqB,KAA/B;QAEAb,MAAM,CAAC,oBAAD,EAAuBP,KAAvB,CAAN;QAEA,OAAOY,OAAO,CAACC,OAAR,EAAP;MACH,CAPD,CAOE,OAAOC,CAAP,EAAU;QACRC,OAAO,CAACC,KAAR,CAAcF,CAAd;QAEA,OAAOF,OAAO,CAACK,MAAR,EAAP;MACH;IACJ;;EA7BI;AAjBE,CAAf"}]}